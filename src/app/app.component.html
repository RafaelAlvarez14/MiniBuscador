<h1 class="titulo">üé¨ Mini Buscador de Pel√≠culas üé¨</h1>

<div class="buscador">
    <input [(ngModel)]="query" placeholder="üîç Buscar pel√≠cula" />
    <input type="number" [(ngModel)]="year" placeholder="üìÖ A√±o" />
    <select [(ngModel)]="language">
        <option value="es">Espa√±ol</option>
        <option value="en">Ingl√©s</option>
        <option value="ja">Japon√©s</option>
        <option value="pt">Portugu√©s</option>
        <option value="fr">Franc√©s</option>
    </select>
    <button (click)="buscar()">Buscar</button>
</div>

<div class="grid-peliculas">
    @for (peli of peliculas; track peli.id) {
        <div class="card" (click)="abrirDetalles(peli)">
            @if (peli.poster_path) {
                <img [src]="getPosterUrl(peli.poster_path)" alt="{{peli.title}} poster" />
            } @else {
                <div class="sin-poster">üé¨</div>
            }
            <div class="info">
                <h3>{{ peli.title }}</h3>
                <p>{{ peli.release_date }}</p>
            </div>
        </div>
    }
</div>

<div class="paginacion">
    <button (click)="anterior()" [disabled]="pagina === 1">‚¨Ö Anterior</button>
    <button (click)="siguiente()">Siguiente ‚û°</button>
</div>

<!-- modal de detalles -->
@if (peliculaSeleccionada) {
    <div class="modal-overlay" (click)="cerrarModal()">
        <div class="modal-content" (click)="$event.stopPropagation()">
            <div class="modal-body">
                @if (peliculaSeleccionada.poster_path) {
                    <div class="poster">
                        <img [src]="getPosterUrl(peliculaSeleccionada.poster_path)" alt="{{peliculaSeleccionada.title}}" />
                    </div>
                }
                <div class="detalles">
                    <h2>{{ peliculaSeleccionada.title }}</h2>
                    <p><strong>üìÖ Estreno:</strong> {{ peliculaSeleccionada.release_date }}</p>
                    <p><strong>üåê Idioma:</strong> {{ peliculaSeleccionada.original_language }}</p>
                    <p>{{ peliculaSeleccionada.overview }}</p>
                    <button class="cerrar" (click)="cerrarModal()">Cerrar ‚úñ</button>
                </div>
            </div>
        </div>
    </div>
}

<div class="identificador">
    <p>Rafael David Alvarez Gonz√°lez, Agosto 2025 ¬©</p>
</div>